
  :root { color-scheme: dark; }
  body { margin:0; background:#0b0f14; color:#e8eef6; font-family:ui-sans-serif,system-ui,-apple-system; }
  header { padding:12px 16px; border-bottom:1px solid #121a22; display:flex; gap:12px; align-items:center; flex-wrap:wrap }
  header h1 { font-size:18px; margin:0 8px 0 0; color:#b8d3ff; white-space:nowrap }
  .btn { background:#1b2633; border:1px solid #243246; color:#e8eef6; padding:8px 12px; border-radius:10px; cursor:pointer; }
  .btn:disabled { opacity:.5; cursor:not-allowed; }
  .group { display:flex; align-items:center; gap:8px; flex-wrap:wrap }
  select, input[type=range] { accent-color:#67b3ff }
  label { font-size:13px; color:#c7d3e0 }
  #wrap { display:grid; grid-template-columns: 1fr 340px; gap:16px; padding:16px; }
  #cv { background:#04070b; border:1px solid #121a22; width:100%; height:auto; display:block; border-radius:12px; }

  /* Video & overlay labels */
  #videoBox { position:relative; }
  #video { width:100%; height:auto; background:#000; border:1px solid #121a22; border-radius:12px; display:block; }
  #video.mirror { transform: scaleX(-1); }
  #output { position:absolute; left:0; top:0; width:100%; height:100%; pointer-events:none; }

  .legend { margin-top:8px; font-size:13px; line-height:1.2 }
  .pill { display:inline-flex; align-items:center; gap:6px; background:#101826; border:1px solid #1b2736; padding:4px 8px; border-radius:999px; margin:2px 4px 0 0; }
  .dot{ width:10px; height:10px; border-radius:50%; display:inline-block }
  .c{background:#ffd54d}.d{background:#5ee380}.e{background:#8ecbff}.f{background:#b58eff}.g{background:#ff6b88}

  /* Music sheet */
  #sheetBox { margin:8px 16px 16px; background:#0f1622; border:1px solid #1a2638; border-radius:12px; padding:10px; }
  #musicSheet { display:flex; gap:8px; flex-wrap:wrap }
  .note { padding:4px 8px; border-radius:8px; background:#0b1220; border:1px solid #122033; font-weight:600 }
  .note.C{color:#ffd54d}.note.D{color:#5ee380}.note.E{color:#8ecbff}.note.F{color:#b58eff}.note.G{color:#ff6b88}
  .note.active { outline:2px solid #67b3ff; }
  .note.correct { background:#10331f; border-color:#1f6b3a }
  .note.wrong   { background:#31141a; border-color:#8b2b3f }
  #score { font-weight:700; color:#9be1ff }
  #status { font-size:13px; color:#92a6bd }
  .activeMode { background:#28435f; border-color:#3c5f82 }

  /* Result modal */
  #resultOverlay{
    position:fixed; inset:0; display:none; align-items:center; justify-content:center;
    background:rgba(0,0,0,.55); backdrop-filter: blur(3px); z-index:9999;
  }
  #resultCard{
    background:#0f1622; border:1px solid #1a2638; border-radius:16px;
    padding:24px 28px; box-shadow:0 10px 30px rgba(0,0,0,.3);
    text-align:center; width:min(90vw,560px); transform:scale(.96);
    animation:pop .28s ease-out forwards;
  }
  #resultCard h2{ margin:0 0 6px; font-size:28px; color:#b8d3ff }
  #finalRank{ font-size:56px; font-weight:900; margin:6px 0 6px; color:#9be1ff }
  #resultCard .sub{ font-size:15px; color:#a9bdd6; margin-bottom:8px }
  #resultCard .row{ display:flex; gap:8px; justify-content:center; flex-wrap:wrap; margin:10px 0 14px }
  #resultCard .pill{ background:#101826; border:1px solid #1b2736; padding:6px 10px; border-radius:999px }
  #resultCard .btn{ margin:0 6px }
  @keyframes pop{ from{opacity:0;transform:scale(.92)} to{opacity:1;transform:scale(1)} }



